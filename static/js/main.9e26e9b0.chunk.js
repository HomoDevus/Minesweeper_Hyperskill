(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(2),o=n.n(c),r=n(7),a=n.n(r),s=(n(12),n(4)),i=n(1),u=n(6),l=(n(13),n.p+"static/media/logo.41c2f52f.svg"),b=(n(14),o.a.createContext()),f=n(0);function j(e){var t=["0"+e.control.timerCount.getMinutes(),"0"+e.control.timerCount.getSeconds()].map((function(e){return e.slice(-2)}));return Object(f.jsx)("div",{children:t.join(":")})}function d(e){var t=Object(c.useContext)(b).reset;return Object(f.jsx)("button",{className:"reset-button",onClick:t,children:e.emoji})}function m(e){return Object(f.jsx)("div",{children:e.control.flags})}function p(e){return Object(f.jsxs)("div",{className:"cp-outer",children:[Object(f.jsxs)("div",{className:"cp-heading",children:[Object(f.jsx)("h2",{children:"Minesweeper"}),Object(f.jsx)("img",{src:l,className:"cp-logo",alt:"logo"})]}),Object(f.jsxs)("div",{className:"cp-control",children:[Object(f.jsx)(m,{control:e.control}),Object(f.jsx)(d,{emoji:e.control.resetEmoji}),Object(f.jsx)(j,{control:e.control})]})]})}function v(e){var t=Object(c.useContext)(b),n=t.openCell,o=t.flag;return Object(f.jsx)("div",{className:"cell ".concat(e.props.cellClass),onClick:function(){return n(e.props)},onContextMenu:function(){return o(e.props)},children:e.props.bombsAround})}function O(e){return Object(f.jsx)("div",{className:"field",children:e.cells.map((function(e){return Object(f.jsx)(v,{props:e},e.id)}))})}function h(e){return Object(f.jsxs)("div",{className:"game",onContextMenu:function(e){return e.preventDefault(),!1},children:[Object(f.jsx)(p,{control:e.control}),Object(f.jsx)(O,{cells:e.cells})]})}function g(){var e=function(){for(var e,t,n,c=[],o=10;o>0;)e=Math.floor((t=0,n=71,Math.random()*(n-t)+t)),c.includes(e)||(c.push(e),o--);return c}(),t=function(){for(var e=[],t=0;t<72;t++)e.push({id:t,bomb:!1,bombsAround:"",flag:!1,open:!1,cellClass:""});return e}();return e.forEach((function(e){t[e].bomb=!0})),t}var x=!0,C=72,k=!1;var y=function(){var e=o.a.useState(g()),t=Object(u.a)(e,2),n=t[0],c=t[1],r=o.a.useState({timerCount:new Date(0),flags:10,resetEmoji:"\ud83d\ude42"}),a=Object(u.a)(r,2),l=a[0],j=a[1];function d(e){var t,o,r=(t=0,o=71,Math.floor(Math.random()*(o-t)+t));c(n.map((function(t){return t.id===e.id&&(t.bomb=!1),t.id===r&&(t.bomb?d(e):t.bomb=!0),t})))}function m(e){var t=p();y(e,{open:!0,flag:!1,cellClass:"empty"}),function(e){var t=[];e%8!==0&&t.push(e-1);(e+1)%8!==0&&t.push(e+1);e+8<72&&t.push(e+8);e-8>-1&&t.push(e-8);e+9<72&&(e+9)%8!==0&&t.push(e+9);e-9>-1&&(e-8)%8!==0&&t.push(e-9);e+7<72&&(e+8)%8!==0&&t.push(e+7);e-7>-1&&(e-7)%8!==0&&t.push(e-7);(function(e,t){var c,o=0,r=Object(s.a)(t);try{for(r.s();!(c=r.n()).done;){var a=c.value;n[a].bomb&&o++}}catch(b){r.e(b)}finally{r.f()}if(0!==o)return function(e,t){var n;switch(t){case 1:n="one-bomb";break;case 2:n="two-bombs";break;case 3:n="three-bombs";break;case 4:n="four-bombs";break;case 5:n="five-bombs";break;case 6:n="six-bombs";break;case 7:n="seven-bombs";break;case 8:n="eight-bombs"}var c={cellClass:"empty ".concat(n),bombsAround:t};y(e,c)}(e,o);var i,u=Object(s.a)(t);try{var l=function(){var e=i.value;setTimeout((function(){n[e].open||m(e)}),0)};for(u.s();!(i=u.n()).done;)l()}catch(b){u.e(b)}finally{u.f()}})(e,t)}(e),C--,10===C&&(O(),j((function(e){return Object(i.a)(Object(i.a)({},e),{},{resetEmoji:"\ud83e\udd73"})}))),j((function(e){return Object(i.a)(Object(i.a)({},e),{},{flags:t})}))}function p(){var e,t=10,c=Object(s.a)(n);try{for(c.s();!(e=c.n()).done;){e.value.flag&&(t-=1)}}catch(o){c.e(o)}finally{c.f()}return t}function v(e){if(e){var t=setInterval((function(){var e=function(e){return e.setSeconds(e.getSeconds()+1),e}(l.timerCount);j((function(t){return Object(i.a)(Object(i.a)({},t),{},{timerCount:e})}))}),1e3);j((function(e){return Object(i.a)(Object(i.a)({},e),{},{timerId:t})}))}else clearInterval(l.timerId)}function O(){n.map((function(e){if(!0===e.bomb){y(e.id,{open:!0,flag:!1,cellClass:"bomb"}),v(!1),j((function(e){return Object(i.a)(Object(i.a)({},e),{},{flags:p()})})),k=!0}}))}function y(e,t){c((function(n){return n[e]=Object.assign(n[e],t),n}))}return Object(f.jsx)(b.Provider,{value:{openCell:function(e){x&&(e.bomb&&d(e),v(!0)),x=!1;var t=e.id,c=n[e.id];!1!==c.open||k||(c.bomb?(j((function(e){return Object(i.a)(Object(i.a)({},e),{},{resetEmoji:"\ud83d\ude35"})})),O()):m(t))},flag:function(e){var t=n[e.id],c={};t.open||(c=!t.flag&&l.flags>0?{flag:!0,cellClass:"flagged"}:{flag:!1,cellClass:""},y(e.id,c)),j((function(e){return Object(i.a)(Object(i.a)({},e),{},{flags:p()})}))},reset:function(){v(!1),x=!0,C=72,k=!1,c(g()),j({timerCount:new Date(0),flags:10,resetEmoji:"\ud83d\ude42"})}},children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(h,{cells:n,control:l})})})};a.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(y,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.9e26e9b0.chunk.js.map